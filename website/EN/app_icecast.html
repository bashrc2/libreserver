<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="libreserver.css" />
    <link rel="manifest" href="manifest.json" />
    <title>libreserver</title>
  </head>
  <body>
    <br />
    <a href="apps.html"><h1><span class="titlePrefix">Libre</span>Server</h1></a>
    <div class="subtitle">Icecast</div>
    <div class="networkImage">
      <img src="images/internet.png" />
    </div>

    <div class="projectDescription">

      <p>
	Icecast enables you to run something like an internet radio station. So if you have multiple audio files and want to be able to stream those in sequence from a web site then this can be useful.
      </p>

      <p>
	This system is available only via an onion address, which should mitigate the potential for copyright disputes over streamed content. By default it's only set up to stream to a small number of users so that it doesn't put too much stress on CPU or memory requirements, although you can increase the maximum limit if you have a more powerful system and enough bandwidth.
      </p>

      <h2>Installation</h2>
      <p>
	Log into your system with:
      </p>

      <pre>ssh myusername@mydomain -p 2222</pre>

      <p>
	Using cursor keys and Enter key select <b>Administrator controls</b> and type in your password. Select <b>Add/Remove Apps</b> then <b>icecast</b>.
      </p>

      <p>
	If you then go to the <b>About</b> screen you'll see the onion address for Icecast and can navigate to it in a Tor compatible browser.
      </p>

      <h2>Adding files to be streamed</h2>
      <p>
	There are two ways to get files onto the system: either via ssh or via a USB drive. File types can be <b>ogg, ogv, mp3 or mp4</b> format.
      </p>

      <p>
	It may take a while for the files to import, especially on a low power single board computer, since any mp3 or mp4 files will be converted to ogg or ogv. If you want to speed this up then you could do this conversion manually on a laptop with ffmpeg before storing files onto the USB drive or uploading them via ssh.
      </p>

      <h3>From a USB drive</h3>
      <p>
	Create a directory on the USB drive named <b>icestream</b> and copy your files into there. Plug the drive into your server.
      </p>

      <p>
	Go to the <b>Administrator control panel</b>, select <b>App settings</b>, then <b>icecast</b>, then <b>Import stream files from USB drive</b>.
      </p>

      <h3>Via ssh</h3>
      <p>
	Make a directory named <b>icestream</b> and copy your files into it. Then copy the directory to your server.
      </p>

      <pre>scp -r -P 2222 icestream myusername@mydomain:/home/myusername</pre>

      <p>
	Log into your server with:
      </p>

      <pre>ssh myusername@mydomain -p 2222</pre>

      <p>
	Select <b>Administrator controls</b>, enter your password, then go to <b>App settings</b> followed by <b>icecast</b> and <b>Import stream files</b>. Choose the directory with up and down cursors to select.
      </p>

      <h2>Access controls</h2>
      <p>
	By default anyone who happens to find your Icecast onion address can listen to your stream. If you only want it to be available to a few friends or family then you can add an extra login password.
      </p>

      <p>
	Go to the <b>Administrator control panel</b>, select <b>App settings</b>, then <b>icecast</b>, then <b>Enable login for stream users</b>. Take a note of the password and you can give that out to whoever needs access, preferably via an encrypted chat app or sneakernet. If you need to copy and paste then hold the shift key while highlighting the password.
      </p>
    </div>
  </body>
</html>
